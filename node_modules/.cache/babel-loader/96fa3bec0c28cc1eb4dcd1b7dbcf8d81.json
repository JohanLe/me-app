{"ast":null,"code":"var _jsxFileName = \"/Users/Ledel/Documents/skola/bth/dbwebb-kurser/ramverk1/me/app/me-app/me-app/src/js/components/Login.js\";\nimport React from 'react';\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleOnChange = event => {\n      let name = event.target.name;\n      let value = event.target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      fetch(\"https://me-api.johanledel.me/auth/login\", {\n        method: \"POST\",\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email: this.state.email,\n          password: this.state.password\n        })\n      }).then(res => {\n        return res.json();\n      }).then(res => {\n        console.log(res);\n        localStorage.setItem('jwt', res.data.token);\n        console.log(localStorage.getItem('jwt'));\n      });\n    };\n\n    this.state = {\n      email: \"\",\n      password: \"\"\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"login_container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"form_login\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"input_label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \"Email\", React.createElement(\"input\", {\n      required: true,\n      name: \"email\",\n      type: \"email\",\n      onChange: this.handleOnChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      className: \"input_label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \"Password\", React.createElement(\"input\", {\n      required: true,\n      name: \"password\",\n      type: \"password\",\n      onChange: this.handleOnChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      name: \"register\",\n      type: \"Submit\",\n      defaultValue: \"Register\",\n      className: \"button_submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/Ledel/Documents/skola/bth/dbwebb-kurser/ramverk1/me/app/me-app/me-app/src/js/components/Login.js"],"names":["React","Login","Component","constructor","props","handleOnChange","event","name","target","value","setState","handleSubmit","preventDefault","fetch","method","headers","body","JSON","stringify","email","state","password","then","res","json","console","log","localStorage","setItem","data","token","getItem","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAGA,MAAMC,KAAN,SAAoBD,KAAK,CAACE,SAA1B,CAAoC;AAEhCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAQnBC,cARmB,GAQDC,KAAD,IAAW;AACxB,UAAIC,IAAI,GAAGD,KAAK,CAACE,MAAN,CAAaD,IAAxB;AACA,UAAIE,KAAK,GAAGH,KAAK,CAACE,MAAN,CAAaC,KAAzB;AACA,WAAKC,QAAL,CAAc;AAAC,SAACH,IAAD,GAAQE;AAAT,OAAd;AACH,KAZkB;;AAAA,SAcnBE,YAdmB,GAcHL,KAAD,IAAW;AACtBA,MAAAA,KAAK,CAACM,cAAN;AACAC,MAAAA,KAAK,CAAC,yCAAD,EAA4C;AAC7CC,QAAAA,MAAM,EAAE,MADqC;AAE7CC,QAAAA,OAAO,EAAE;AACL,oBAAU,kBADL;AAEL,0BAAgB;AAFX,SAFoC;AAM7CC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBC,UAAAA,KAAK,EAAE,KAAKC,KAAL,CAAWD,KADD;AAEjBE,UAAAA,QAAQ,EAAE,KAAKD,KAAL,CAAWC;AAFJ,SAAf;AANuC,OAA5C,CAAL,CAUGC,IAVH,CAUSC,GAAD,IAAS;AACb,eAAOA,GAAG,CAACC,IAAJ,EAAP;AACH,OAZD,EAYGF,IAZH,CAYSC,GAAD,IAAO;AACXE,QAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACAI,QAAAA,YAAY,CAACC,OAAb,CAAqB,KAArB,EAA4BL,GAAG,CAACM,IAAJ,CAASC,KAArC;AACAL,QAAAA,OAAO,CAACC,GAAR,CAAYC,YAAY,CAACI,OAAb,CAAqB,KAArB,CAAZ;AACH,OAhBD;AAmBH,KAnCkB;;AAEf,SAAKX,KAAL,GAAa;AACTD,MAAAA,KAAK,EAAE,EADE;AAETE,MAAAA,QAAQ,EAAE;AAFD,KAAb;AAIH;;AA+BDW,EAAAA,MAAM,GAAG;AACL,WACI;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAM,MAAA,SAAS,EAAC,YAAhB;AAA6B,MAAA,QAAQ,EAAE,KAAKrB,YAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAO,MAAA,SAAS,EAAC,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAEI;AACI,MAAA,QAAQ,MADZ;AAEI,MAAA,IAAI,EAAC,OAFT;AAGI,MAAA,IAAI,EAAC,OAHT;AAII,MAAA,QAAQ,EAAE,KAAKN,cAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADJ,EAWI;AAAO,MAAA,SAAS,EAAC,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEI;AACI,MAAA,QAAQ,MADZ;AAEI,MAAA,IAAI,EAAC,UAFT;AAGI,MAAA,IAAI,EAAC,UAHT;AAII,MAAA,QAAQ,EAAE,KAAKA,cAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CAXJ,EAsBI;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,IAAI,EAAC,QAA5B;AAAqC,MAAA,YAAY,EAAC,UAAlD;AAA6D,MAAA,SAAS,EAAC,eAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAtBJ,CADJ,CADJ;AA6BH;;AArE+B;;AAyEpC,eAAeJ,KAAf","sourcesContent":["import React from 'react';\n\n\nclass Login extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            email: \"\",\n            password: \"\"\n        }\n    }\n\n    handleOnChange = (event) => {\n        let name = event.target.name;\n        let value = event.target.value;\n        this.setState({[name]: value});\n    };\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n        fetch(\"https://me-api.johanledel.me/auth/login\", {\n            method: \"POST\",\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                email: this.state.email,\n                password: this.state.password\n            })\n        }).then((res) => {\n            return res.json();\n        }).then((res)=>{\n            console.log(res);\n            localStorage.setItem('jwt', res.data.token);\n            console.log(localStorage.getItem('jwt'));\n        })\n\n\n    };\n\n    render() {\n        return (\n            <div className=\"login_container\">\n                <form className=\"form_login\" onSubmit={this.handleSubmit}>\n                    <label className=\"input_label\">\n                        Email\n                        <input\n                            required\n                            name=\"email\"\n                            type=\"email\"\n                            onChange={this.handleOnChange}\n                        />\n                    </label>\n\n                    <label className=\"input_label\">\n                        Password\n                        <input\n                            required\n                            name=\"password\"\n                            type=\"password\"\n                            onChange={this.handleOnChange}\n                        />\n                    </label>\n\n\n                    <input name=\"register\" type=\"Submit\" defaultValue=\"Register\" className=\"button_submit\"/>\n\n                </form>\n            </div>\n        )\n    }\n}\n\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}