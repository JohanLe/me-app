{"ast":null,"code":"import _defineProperty from\"/Users/ledel/WebbServer/dbwebb-kurser/jsramverk/me/app/me-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/ledel/WebbServer/dbwebb-kurser/jsramverk/me/app/me-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/ledel/WebbServer/dbwebb-kurser/jsramverk/me/app/me-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/ledel/WebbServer/dbwebb-kurser/jsramverk/me/app/me-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/ledel/WebbServer/dbwebb-kurser/jsramverk/me/app/me-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/ledel/WebbServer/dbwebb-kurser/jsramverk/me/app/me-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';var Register=/*#__PURE__*/function(_React$Component){_inherits(Register,_React$Component);function Register(props){var _this;_classCallCheck(this,Register);_this=_possibleConstructorReturn(this,_getPrototypeOf(Register).call(this,props));_this.validateYear=function(date){if(isNaN(date)){_this.setState({errorMessage:\"Not a number\"});return false;}if(date.length<4){return false;}_this.setState({errorMessage:false});return true;};_this.validateMonth=function(date){//  var year = date.slice(0, 4);\nvar month=date.slice(-2);if(isNaN(month)){_this.setState({errorMessage:\"Not a number\"});return false;}if(date.length<7){return false;}_this.setState({errorMessage:false});return true;};_this.validateDay=function(date){// var year = date.slice(0, 4);\nvar month=date.slice(5,7);// var day = date.slice(-2);\nif(isNaN(month)){_this.setState({errorMessage:\"Not a number\"});return false;}_this.setState({errorMessage:false});return true;};_this.validateBirthdate=function(event){var date=event.target.value;/*\n         * If erase, do nothing.\n         * After 4 & 7 digits, add -\n         * Check how many days the months has and se if entered days is OK.\n         */if(date.length<_this.state.birthdate.length){// if erase, do nothing.\n}else if(date.length<5&&_this.validateYear(date)){date+=\"-\";}else if(5<date.length&&date.length<8&&_this.validateMonth(date)){date+=\"-\";}else if(date.length>7){_this.validateDay(date);}_this.setState({birthdate:date});};_this.changeHandler=function(event){var nam=event.target.name;var val=event.target.value;_this.setState(_defineProperty({},nam,val));};_this.handleSubmit=function(event){console.log(\"HANDLE SUBMIT!\");event.preventDefault();fetch(\"http://localhost:8333/register\",{method:\"POST\",headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({fullname:_this.state.fullname,email:_this.state.email,password:_this.state.password,birthdate:_this.state.birthdate})}).then(function(){console.log(\"WHAHSH\");console.log(\"APP \");console.log(\"Success\");}).catch(function(e){console.log(e);console.log(\"error\");});};_this.state={email:\"\",password:\"\",fullname:\"\",birthdate:'',errorMessage:false};return _this;}_createClass(Register,[{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"register_container\"},React.createElement(\"form\",{className:\"form_register\",method:\"post\",onSubmit:this.handleSubmit},React.createElement(\"label\",{className:\"input_label\"},\"Name\",React.createElement(\"input\",{required:true,name:\"fullname\",type:\"text\",onChange:this.changeHandler})),React.createElement(\"label\",{className:\"input_label\"},\"Email\",React.createElement(\"input\",{required:true,name:\"email\",type:\"email\",onChange:this.changeHandler})),React.createElement(\"label\",{className:\"input_label\"},\"Password\",React.createElement(\"input\",{required:true,name:\"password\",type:\"password\",onChange:this.changeHandler})),React.createElement(\"div\",{className:\"date_picker_container\"},React.createElement(\"label\",{className:\"input_label\"},React.createElement(\"span\",null,\"Birthdate \"),React.createElement(\"span\",{className:\"small_description_text\"},\"e.g. 1900-01-01 (Y-M-D)\"),React.createElement(\"input\",{required:true,type:\"year\",name:\"birthdate\",value:this.state.birthdate,onChange:this.validateBirthdate,maxLength:\"10\"}),React.createElement(\"p\",{className:\"error_message\"},this.state.errorMessage,\" \"))),React.createElement(\"div\",{className:\"terms_and_conditions_text\"},React.createElement(\"label\",null,\"I accept \",React.createElement(\"a\",{href:\"/register\",onClick:openTermAndConditions,className:\"form_link\"},\" Terms and Conditions\")),React.createElement(\"input\",{name:\"gdpr\",required:true,type:\"checkbox\"})),React.createElement(\"input\",{name:\"register\",type:\"Submit\",defaultValue:\"Register\",className:\"button_submit\"})));}}]);return Register;}(React.Component);/*\n * Return number of days a month has.\n * @ month 01-12 string.\n * @ year string as number\n\nfunction numberOfDays(month, year) {\n    var mon = month % 2;\n    if (month === '02') {\n        if (calculateLeapYear(year)) {\n            return 29;\n        }\n        return 28;\n    } else if (mon === 0 || month === '07') {\n        return 31;\n    }\n    return 30;\n}\n\nfunction calculateLeapYear(year) {\n    if (year % 4 === 0) {\n        if (year % 400 === 0) {\n            return true;\n        } else if (year % 100 === 0) {\n            return false;\n        }\n        return true;\n    }\n    return false;\n}\n\n\n */function openTermAndConditions(event){console.log(\"Term and conditions\");event.preventDefault();}export default Register;","map":{"version":3,"sources":["/Users/ledel/WebbServer/dbwebb-kurser/jsramverk/me/app/me-app/src/js/components/Register.js"],"names":["React","Register","props","validateYear","date","isNaN","setState","errorMessage","length","validateMonth","month","slice","validateDay","validateBirthdate","event","target","value","state","birthdate","changeHandler","nam","name","val","handleSubmit","console","log","preventDefault","fetch","method","headers","body","JSON","stringify","fullname","email","password","then","catch","e","openTermAndConditions","Component"],"mappings":"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","sourcesContent":["import React from 'react';\n\n\nclass Register extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            email: \"\",\n            password: \"\",\n            fullname: \"\",\n            birthdate: '',\n            errorMessage: false,\n        };\n\n    }\n\n    validateYear = (date) => {\n        if (isNaN(date)) {\n            this.setState({errorMessage: \"Not a number\"});\n            return false\n        }\n        if (date.length < 4) {\n            return false\n        }\n        this.setState({errorMessage: false});\n        return true;\n    };\n    validateMonth = (date) => {\n      //  var year = date.slice(0, 4);\n        var month = date.slice(-2);\n\n        if (isNaN(month)) {\n            this.setState({errorMessage: \"Not a number\"});\n            return false\n        }\n        if (date.length < 7) {\n            return false\n        }\n        this.setState({errorMessage: false});\n        return true;\n    };\n    validateDay = (date) => {\n       // var year = date.slice(0, 4);\n        var month = date.slice(5, 7);\n       // var day = date.slice(-2);\n\n        if (isNaN(month)) {\n            this.setState({errorMessage: \"Not a number\"});\n            return false\n        }\n\n        this.setState({errorMessage: false});\n        return true;\n    };\n\n    validateBirthdate = (event) => {\n        var date = event.target.value;\n        /*\n         * If erase, do nothing.\n         * After 4 & 7 digits, add -\n         * Check how many days the months has and se if entered days is OK.\n         */\n        if (date.length < this.state.birthdate.length) {\n            // if erase, do nothing.\n        } else if (date.length < 5 && this.validateYear(date)) {\n            date += \"-\";\n        } else if (5 < date.length && date.length < 8 && this.validateMonth(date)) {\n            date += \"-\";\n        } else if (date.length > 7) {\n            this.validateDay(date)\n        }\n        this.setState({birthdate: date});\n\n    };\n\n    changeHandler = (event) => {\n        let nam = event.target.name;\n        let val = event.target.value;\n        this.setState({[nam]: val});\n    };\n\n    handleSubmit = (event) => {\n        console.log(\"HANDLE SUBMIT!\");\n        event.preventDefault();\n        fetch(\"http://localhost:8333/register\", {\n            method: \"POST\",\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                fullname: this.state.fullname,\n                email: this.state.email,\n                password: this.state.password,\n                birthdate: this.state.birthdate\n            })\n        }).then(()=>{\n            console.log(\"WHAHSH\");\n            console.log(\"APP \");\n            console.log(\"Success\");\n        }).catch((e)=>{\n            console.log(e);\n            console.log(\"error\");\n        });\n    };\n\n    render() {\n        return (\n            <div className=\"register_container\">\n                <form className=\"form_register\" method=\"post\" onSubmit={this.handleSubmit}>\n                    <label className=\"input_label\">\n                        Name\n                        <input\n                            required\n                            name=\"fullname\"\n                            type=\"text\"\n                            onChange={this.changeHandler}\n                        />\n                    </label>\n\n                    <label className=\"input_label\">\n                        Email\n                        <input\n                            required\n                            name=\"email\"\n                            type=\"email\"\n                            onChange={this.changeHandler}\n                        />\n                    </label>\n\n                    <label className=\"input_label\">\n                        Password\n                        <input\n                            required\n                            name=\"password\"\n                            type=\"password\"\n                            onChange={this.changeHandler}\n                        />\n                    </label>\n\n                    <div className=\"date_picker_container\">\n\n                        <label className=\"input_label\">\n                            <span>Birthdate </span><span className=\"small_description_text\">e.g. 1900-01-01 (Y-M-D)</span>\n                            <input\n                                required\n                                type=\"year\"\n                                name=\"birthdate\"\n                                value={this.state.birthdate}\n                                onChange={this.validateBirthdate}\n                                maxLength=\"10\"\n                            />\n                            <p className=\"error_message\">{this.state.errorMessage} </p>\n                        </label>\n                    </div>\n                    <div className=\"terms_and_conditions_text\">\n                        <label>\n                            I accept <a href=\"/register\" onClick={openTermAndConditions} className=\"form_link\"> Terms\n                            and Conditions</a>\n                        </label>\n                        <input name=\"gdpr\" required type=\"checkbox\"/>\n                    </div>\n\n\n                    <input name=\"register\" type=\"Submit\" defaultValue=\"Register\" className=\"button_submit\"/>\n\n                </form>\n            </div>\n        )\n    }\n}\n\n/*\n * Return number of days a month has.\n * @ month 01-12 string.\n * @ year string as number\n\nfunction numberOfDays(month, year) {\n    var mon = month % 2;\n    if (month === '02') {\n        if (calculateLeapYear(year)) {\n            return 29;\n        }\n        return 28;\n    } else if (mon === 0 || month === '07') {\n        return 31;\n    }\n    return 30;\n}\n\nfunction calculateLeapYear(year) {\n    if (year % 4 === 0) {\n        if (year % 400 === 0) {\n            return true;\n        } else if (year % 100 === 0) {\n            return false;\n        }\n        return true;\n    }\n    return false;\n}\n\n\n */\n\n\n\nfunction openTermAndConditions(event) {\n    console.log(\"Term and conditions\");\n    event.preventDefault();\n}\n\nexport default Register;"]},"metadata":{},"sourceType":"module"}