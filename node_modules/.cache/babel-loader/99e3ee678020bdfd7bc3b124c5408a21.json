{"ast":null,"code":"import _defineProperty from\"/Users/ledel/WebbServer/dbwebb-kurser/jsramverk/me/app/me-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/ledel/WebbServer/dbwebb-kurser/jsramverk/me/app/me-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/ledel/WebbServer/dbwebb-kurser/jsramverk/me/app/me-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/ledel/WebbServer/dbwebb-kurser/jsramverk/me/app/me-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/ledel/WebbServer/dbwebb-kurser/jsramverk/me/app/me-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/ledel/WebbServer/dbwebb-kurser/jsramverk/me/app/me-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);function Login(props){var _this;_classCallCheck(this,Login);_this=_possibleConstructorReturn(this,_getPrototypeOf(Login).call(this,props));_this.handleOnChange=function(event){var name=event.target.name;var value=event.target.value;_this.setState(_defineProperty({},name,value));};_this.handleSubmit=function(event){event.preventDefault();fetch(\"http://localhost:8333/auth/login\",{method:\"POST\",headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({email:_this.state.email,password:_this.state.password})}).then(function(res){return res.json();}).then(function(res){console.log(res);console.log(\"Save token\");localStorage.setItem('jwt',res.data.token);console.log(localStorage.getItem('jwt'));});};_this.state={email:\"\",password:\"\"};return _this;}_createClass(Login,[{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"login_container\"},React.createElement(\"form\",{className:\"form_login\",onSubmit:this.handleSubmit},React.createElement(\"label\",{className:\"input_label\"},\"Email\",React.createElement(\"input\",{required:true,name:\"email\",type:\"email\",onChange:this.handleOnChange})),React.createElement(\"label\",{className:\"input_label\"},\"Password\",React.createElement(\"input\",{required:true,name:\"password\",type:\"password\",onChange:this.handleOnChange})),React.createElement(\"input\",{name:\"register\",type:\"Submit\",defaultValue:\"Register\",className:\"button_submit\"})));}}]);return Login;}(React.Component);export default Login;","map":{"version":3,"sources":["/Users/ledel/WebbServer/dbwebb-kurser/jsramverk/me/app/me-app/src/js/components/Login.js"],"names":["React","Login","props","handleOnChange","event","name","target","value","setState","handleSubmit","preventDefault","fetch","method","headers","body","JSON","stringify","email","state","password","then","res","json","console","log","localStorage","setItem","data","token","getItem","Component"],"mappings":"wkCAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,C,GAGMC,CAAAA,K,2EAEF,eAAYC,KAAZ,CAAmB,uCACf,uEAAMA,KAAN,GADe,MAQnBC,cARmB,CAQF,SAACC,KAAD,CAAW,CACxB,GAAIC,CAAAA,IAAI,CAAGD,KAAK,CAACE,MAAN,CAAaD,IAAxB,CACA,GAAIE,CAAAA,KAAK,CAAGH,KAAK,CAACE,MAAN,CAAaC,KAAzB,CACA,MAAKC,QAAL,oBAAgBH,IAAhB,CAAuBE,KAAvB,GACH,CAZkB,OAcnBE,YAdmB,CAcJ,SAACL,KAAD,CAAW,CACtBA,KAAK,CAACM,cAAN,GACAC,KAAK,CAAC,kCAAD,CAAqC,CACtCC,MAAM,CAAE,MAD8B,CAEtCC,OAAO,CAAE,CACL,SAAU,kBADL,CAEL,eAAgB,kBAFX,CAF6B,CAMtCC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjBC,KAAK,CAAE,MAAKC,KAAL,CAAWD,KADD,CAEjBE,QAAQ,CAAE,MAAKD,KAAL,CAAWC,QAFJ,CAAf,CANgC,CAArC,CAAL,CAUGC,IAVH,CAUQ,SAACC,GAAD,CAAS,CACb,MAAOA,CAAAA,GAAG,CAACC,IAAJ,EAAP,CACH,CAZD,EAYGF,IAZH,CAYQ,SAACC,GAAD,CAAO,CACXE,OAAO,CAACC,GAAR,CAAYH,GAAZ,EACAE,OAAO,CAACC,GAAR,CAAY,YAAZ,EACAC,YAAY,CAACC,OAAb,CAAqB,KAArB,CAA4BL,GAAG,CAACM,IAAJ,CAASC,KAArC,EACAL,OAAO,CAACC,GAAR,CAAYC,YAAY,CAACI,OAAb,CAAqB,KAArB,CAAZ,EACH,CAjBD,EAoBH,CApCkB,CAEf,MAAKX,KAAL,CAAa,CACTD,KAAK,CAAE,EADE,CAETE,QAAQ,CAAE,EAFD,CAAb,CAFe,aAMlB,C,yDAgCQ,CACL,MACI,4BAAK,SAAS,CAAC,iBAAf,EACI,4BAAM,SAAS,CAAC,YAAhB,CAA6B,QAAQ,CAAE,KAAKV,YAA5C,EACI,6BAAO,SAAS,CAAC,aAAjB,UAEI,6BACI,QAAQ,KADZ,CAEI,IAAI,CAAC,OAFT,CAGI,IAAI,CAAC,OAHT,CAII,QAAQ,CAAE,KAAKN,cAJnB,EAFJ,CADJ,CAWI,6BAAO,SAAS,CAAC,aAAjB,aAEI,6BACI,QAAQ,KADZ,CAEI,IAAI,CAAC,UAFT,CAGI,IAAI,CAAC,UAHT,CAII,QAAQ,CAAE,KAAKA,cAJnB,EAFJ,CAXJ,CAsBI,6BAAO,IAAI,CAAC,UAAZ,CAAuB,IAAI,CAAC,QAA5B,CAAqC,YAAY,CAAC,UAAlD,CAA6D,SAAS,CAAC,eAAvE,EAtBJ,CADJ,CADJ,CA6BH,C,mBAtEeH,KAAK,CAAC8B,S,EA0E1B,cAAe7B,CAAAA,KAAf","sourcesContent":["import React from 'react';\n\n\nclass Login extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            email: \"\",\n            password: \"\"\n        }\n    }\n\n    handleOnChange = (event) => {\n        let name = event.target.name;\n        let value = event.target.value;\n        this.setState({[name]: value});\n    };\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n        fetch(\"http://localhost:8333/auth/login\", {\n            method: \"POST\",\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                email: this.state.email,\n                password: this.state.password\n            })\n        }).then((res) => {\n            return res.json();\n        }).then((res)=>{\n            console.log(res);\n            console.log(\"Save token\");\n            localStorage.setItem('jwt', res.data.token);\n            console.log(localStorage.getItem('jwt'));\n        })\n\n\n    };\n\n    render() {\n        return (\n            <div className=\"login_container\">\n                <form className=\"form_login\" onSubmit={this.handleSubmit}>\n                    <label className=\"input_label\">\n                        Email\n                        <input\n                            required\n                            name=\"email\"\n                            type=\"email\"\n                            onChange={this.handleOnChange}\n                        />\n                    </label>\n\n                    <label className=\"input_label\">\n                        Password\n                        <input\n                            required\n                            name=\"password\"\n                            type=\"password\"\n                            onChange={this.handleOnChange}\n                        />\n                    </label>\n\n\n                    <input name=\"register\" type=\"Submit\" defaultValue=\"Register\" className=\"button_submit\"/>\n\n                </form>\n            </div>\n        )\n    }\n}\n\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}