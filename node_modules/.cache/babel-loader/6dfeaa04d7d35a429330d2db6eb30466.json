{"ast":null,"code":"var _jsxFileName = \"/Users/Ledel/Documents/skola/bth/dbwebb-kurser/ramverk1/me/app/me-app/me-app/src/js/components/Register.js\";\nimport React from 'react';\n\nclass Register extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.validateYear = date => {\n      if (isNaN(date)) {\n        this.setState({\n          errorMessage: \"Not a number\"\n        });\n        return false;\n      }\n\n      if (date.length < 4) {\n        return false;\n      }\n\n      this.setState({\n        errorMessage: false\n      });\n      return true;\n    };\n\n    this.validateMonth = date => {\n      //  var year = date.slice(0, 4);\n      var month = date.slice(-2);\n\n      if (isNaN(month)) {\n        this.setState({\n          errorMessage: \"Not a number\"\n        });\n        return false;\n      }\n\n      if (date.length < 7) {\n        return false;\n      }\n\n      this.setState({\n        errorMessage: false\n      });\n      return true;\n    };\n\n    this.validateDay = date => {\n      // var year = date.slice(0, 4);\n      var month = date.slice(5, 7); // var day = date.slice(-2);\n\n      if (isNaN(month)) {\n        this.setState({\n          errorMessage: \"Not a number\"\n        });\n        return false;\n      }\n\n      this.setState({\n        errorMessage: false\n      });\n      return true;\n    };\n\n    this.validateBirthdate = event => {\n      var date = event.target.value;\n      /*\n       * If erase, do nothing.\n       * After 4 & 7 digits, add -\n       * Check how many days the months has and se if entered days is OK.\n       */\n\n      if (date.length < this.state.birthdate.length) {// if erase, do nothing.\n      } else if (date.length < 5 && this.validateYear(date)) {\n        date += \"-\";\n      } else if (5 < date.length && date.length < 8 && this.validateMonth(date)) {\n        date += \"-\";\n      } else if (date.length > 7) {\n        this.validateDay(date);\n      }\n\n      this.setState({\n        birthdate: date\n      });\n    };\n\n    this.changeHandler = event => {\n      let nam = event.target.name;\n      let val = event.target.value;\n      this.setState({\n        [nam]: val\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      fetch(\"me-api.johanledel.me/register\", {\n        method: \"POST\",\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          fullname: this.state.fullname,\n          email: this.state.email,\n          password: this.state.password,\n          birthdate: this.state.birthdate\n        })\n      });\n    };\n\n    this.state = {\n      email: \"\",\n      password: \"\",\n      fullname: \"\",\n      birthdate: '',\n      errorMessage: false\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"register_container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"form_register\",\n      method: \"post\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"input_label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"Name\", React.createElement(\"input\", {\n      required: true,\n      name: \"fullname\",\n      type: \"text\",\n      onChange: this.changeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      className: \"input_label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"Email\", React.createElement(\"input\", {\n      required: true,\n      name: \"email\",\n      type: \"email\",\n      onChange: this.changeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      className: \"input_label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \"Password\", React.createElement(\"input\", {\n      required: true,\n      name: \"password\",\n      type: \"password\",\n      onChange: this.changeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"date_picker_container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"input_label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, \"Birthdate \"), React.createElement(\"span\", {\n      className: \"small_description_text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, \"e.g. 1900-01-01 (Y-M-D)\"), React.createElement(\"input\", {\n      required: true,\n      type: \"year\",\n      name: \"birthdate\",\n      value: this.state.birthdate,\n      onChange: this.validateBirthdate,\n      maxLength: \"10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      className: \"error_message\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, this.state.errorMessage, \" \"))), React.createElement(\"div\", {\n      className: \"terms_and_conditions_text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"I accept \", React.createElement(\"a\", {\n      href: \"/register\",\n      onClick: openTermAndConditions,\n      className: \"form_link\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, \" Terms and Conditions\")), React.createElement(\"input\", {\n      name: \"gdpr\",\n      required: true,\n      type: \"checkbox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      name: \"register\",\n      type: \"Submit\",\n      defaultValue: \"Register\",\n      className: \"button_submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    })));\n  }\n\n}\n/*\n * Return number of days a month has.\n * @ month 01-12 string.\n * @ year string as number\n\nfunction numberOfDays(month, year) {\n    var mon = month % 2;\n    if (month === '02') {\n        if (calculateLeapYear(year)) {\n            return 29;\n        }\n        return 28;\n    } else if (mon === 0 || month === '07') {\n        return 31;\n    }\n    return 30;\n}\n\nfunction calculateLeapYear(year) {\n    if (year % 4 === 0) {\n        if (year % 400 === 0) {\n            return true;\n        } else if (year % 100 === 0) {\n            return false;\n        }\n        return true;\n    }\n    return false;\n}\n\n\n */\n\n\nfunction openTermAndConditions(event) {\n  console.log(\"Term and conditions\");\n  event.preventDefault();\n}\n\nexport default Register;","map":{"version":3,"sources":["/Users/Ledel/Documents/skola/bth/dbwebb-kurser/ramverk1/me/app/me-app/me-app/src/js/components/Register.js"],"names":["React","Register","Component","constructor","props","validateYear","date","isNaN","setState","errorMessage","length","validateMonth","month","slice","validateDay","validateBirthdate","event","target","value","state","birthdate","changeHandler","nam","name","val","handleSubmit","preventDefault","fetch","method","headers","body","JSON","stringify","fullname","email","password","render","openTermAndConditions","console","log"],"mappings":"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","sourcesContent":["import React from 'react';\n\n\nclass Register extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            email: \"\",\n            password: \"\",\n            fullname: \"\",\n            birthdate: '',\n            errorMessage: false,\n        };\n\n    }\n\n    validateYear = (date) => {\n        if (isNaN(date)) {\n            this.setState({errorMessage: \"Not a number\"});\n            return false\n        }\n        if (date.length < 4) {\n            return false\n        }\n        this.setState({errorMessage: false});\n        return true;\n    };\n    validateMonth = (date) => {\n      //  var year = date.slice(0, 4);\n        var month = date.slice(-2);\n\n        if (isNaN(month)) {\n            this.setState({errorMessage: \"Not a number\"});\n            return false\n        }\n        if (date.length < 7) {\n            return false\n        }\n        this.setState({errorMessage: false});\n        return true;\n    };\n    validateDay = (date) => {\n       // var year = date.slice(0, 4);\n        var month = date.slice(5, 7);\n       // var day = date.slice(-2);\n\n        if (isNaN(month)) {\n            this.setState({errorMessage: \"Not a number\"});\n            return false\n        }\n\n        this.setState({errorMessage: false});\n        return true;\n    };\n\n    validateBirthdate = (event) => {\n        var date = event.target.value;\n        /*\n         * If erase, do nothing.\n         * After 4 & 7 digits, add -\n         * Check how many days the months has and se if entered days is OK.\n         */\n        if (date.length < this.state.birthdate.length) {\n            // if erase, do nothing.\n        } else if (date.length < 5 && this.validateYear(date)) {\n            date += \"-\";\n        } else if (5 < date.length && date.length < 8 && this.validateMonth(date)) {\n            date += \"-\";\n        } else if (date.length > 7) {\n            this.validateDay(date)\n        }\n        this.setState({birthdate: date});\n\n    };\n\n    changeHandler = (event) => {\n        let nam = event.target.name;\n        let val = event.target.value;\n        this.setState({[nam]: val});\n    };\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n        fetch(\"me-api.johanledel.me/register\", {\n            method: \"POST\",\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                fullname: this.state.fullname,\n                email: this.state.email,\n                password: this.state.password,\n                birthdate: this.state.birthdate\n            })\n        });\n    };\n\n    render() {\n        return (\n            <div className=\"register_container\">\n                <form className=\"form_register\" method=\"post\" onSubmit={this.handleSubmit}>\n                    <label className=\"input_label\">\n                        Name\n                        <input\n                            required\n                            name=\"fullname\"\n                            type=\"text\"\n                            onChange={this.changeHandler}\n                        />\n                    </label>\n\n                    <label className=\"input_label\">\n                        Email\n                        <input\n                            required\n                            name=\"email\"\n                            type=\"email\"\n                            onChange={this.changeHandler}\n                        />\n                    </label>\n\n                    <label className=\"input_label\">\n                        Password\n                        <input\n                            required\n                            name=\"password\"\n                            type=\"password\"\n                            onChange={this.changeHandler}\n                        />\n                    </label>\n\n                    <div className=\"date_picker_container\">\n\n                        <label className=\"input_label\">\n                            <span>Birthdate </span><span className=\"small_description_text\">e.g. 1900-01-01 (Y-M-D)</span>\n                            <input\n                                required\n                                type=\"year\"\n                                name=\"birthdate\"\n                                value={this.state.birthdate}\n                                onChange={this.validateBirthdate}\n                                maxLength=\"10\"\n                            />\n                            <p className=\"error_message\">{this.state.errorMessage} </p>\n                        </label>\n                    </div>\n                    <div className=\"terms_and_conditions_text\">\n                        <label>\n                            I accept <a href=\"/register\" onClick={openTermAndConditions} className=\"form_link\"> Terms\n                            and Conditions</a>\n                        </label>\n                        <input name=\"gdpr\" required type=\"checkbox\"/>\n                    </div>\n\n\n                    <input name=\"register\" type=\"Submit\" defaultValue=\"Register\" className=\"button_submit\"/>\n\n                </form>\n            </div>\n        )\n    }\n}\n\n/*\n * Return number of days a month has.\n * @ month 01-12 string.\n * @ year string as number\n\nfunction numberOfDays(month, year) {\n    var mon = month % 2;\n    if (month === '02') {\n        if (calculateLeapYear(year)) {\n            return 29;\n        }\n        return 28;\n    } else if (mon === 0 || month === '07') {\n        return 31;\n    }\n    return 30;\n}\n\nfunction calculateLeapYear(year) {\n    if (year % 4 === 0) {\n        if (year % 400 === 0) {\n            return true;\n        } else if (year % 100 === 0) {\n            return false;\n        }\n        return true;\n    }\n    return false;\n}\n\n\n */\n\n\n\nfunction openTermAndConditions(event) {\n    console.log(\"Term and conditions\");\n    event.preventDefault();\n}\n\nexport default Register;"]},"metadata":{},"sourceType":"module"}